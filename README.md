# 下厨房菜谱爬虫
下厨房菜谱爬虫，获取每种菜的100多种做法，并保存在本地，以及图片
[例子：水蒸蛋](https://www.xiachufang.com/category/1012133/)

## 1.获取菜名（category）
使用`1_new_get_links_mulit.py`，
`1_get_links_mulit.py`因为下厨房更新作废

菜名（category）本质为一个7位数的ID，从1000001至1040000都拥有，1040000以后的数字应该也有，但并未尝试。
### 注意事项
* 爬取有可能因为IP质量不行出错，要多试几次
* 每次爬取不要太多，注意每次保存不同的`filename`（98行）
* 111行更改类别量
* 多线程5~6个左右比较合适
* 该文件只爬取首页的最多15个做法，如果想要获取更多页数更多做法，请参考`1_get_links_mulit.py`中的`get_url_and_names`函数，修改该函数即可，本质与爬取首页步骤相同

爬取完毕为保存为`linksxxx-xxx.json`文件，供后续文件读取使用

## 2.获取做法和图片
`2_final_verison.py`

下厨房每个菜都拥有一种至100多种做法，由用户上传，每个菜基本都有自己的图片

### 注意事项
* 记得调用正确的`links.json`文件，225行
* 该程序会将菜谱下载并保存至 `./data/菜名/1_做法.json ...`中
* 如果不想下载图片只想保存菜谱，请注释掉167行，默认不下载
* 拥有保存全尺寸和保存512大小的两次，请分别取消注释并下载
* 因IP质量，下成功率较低
* 线程最好为3，多了不太好
* 该程序对同一菜谱需要尝试多次，使用`合并字典删除文件夹.py`删除一些创造的菜名但是没有菜谱的文件夹，并在此重启，该程序会略过一些已经爬取过得菜名
